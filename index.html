<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>CET æ¶ˆæ¶ˆä¹ï¼ˆH5 ç»ˆæç‰ˆï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      background: linear-gradient(180deg, #6a7bdc, #7b6fd6);
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", sans-serif;
    }

    .app {
      max-width: 420px;
      margin: 0 auto;
      min-height: 100vh;
      padding: 16px;
      box-sizing: border-box;
      color: #fff;
    }

    h1 {
      text-align: center;
      margin: 12px 0 8px;
    }

    .modes {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 16px;
    }

    .mode-btn {
      flex: 1;
      background: #fff;
      color: #333;
      border-radius: 16px;
      padding: 10px 0;
      border: none;
      font-size: 14px;
      cursor: pointer;
    }

    .mode-btn.active {
      background: #ffd97a;
      font-weight: bold;
    }

    .panel {
      background: rgba(255,255,255,0.15);
      border-radius: 20px;
      padding: 16px;
    }

    .info {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .game-board {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .word {
      background: #ffd97a;
      color: #333;
      border-radius: 14px;
      padding: 14px 8px;
      text-align: center;
      font-size: 16px;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s;
    }

    .word.active {
      transform: scale(1.05);
      box-shadow: 0 0 0 3px #fff;
    }

    .footer {
      text-align: center;
      margin-top: 16px;
      font-size: 12px;
      opacity: 0.8;
    }
  </style>
</head>

<body>
  <div class="app">
    <h1>ğŸ® CET æ¶ˆæ¶ˆä¹</h1>

    <div class="modes">
      <button class="mode-btn active" onclick="setMode('study')">ğŸ§  æ²‰æµ¸å±€</button>
      <button class="mode-btn" onclick="setMode('battle')">âš”ï¸ è¿æˆ˜å±€</button>
      <button class="mode-btn" onclick="setMode('revenge')">ğŸ”¥ å¤ä»‡å±€</button>
    </div>

    <div class="panel">
      <div class="info">
        <div>æ¨¡å¼ï¼š<span id="modeName">æ²‰æµ¸å±€</span></div>
        <div>å¾—åˆ†ï¼š<span id="score">0</span></div>
      </div>

      <div class="game-board" id="board"></div>
    </div>

    <div class="footer">
      è¯åº“ï¼šCET å¸¸ç”¨è¯æ±‡ ï½œ ä¸ªäººå­¦ä¹ å¨±ä¹é¡¹ç›®
    </div>
  </div>

  <script src="words_cet.js"></script>
  <script>
    let mode = "study";
    let score = 0;
    let selected = null;

    function setMode(m) {
      mode = m;
      document.querySelectorAll(".mode-btn").forEach(b => b.classList.remove("active"));
      event.target.classList.add("active");

      document.getElementById("modeName").innerText =
        m === "study" ? "æ²‰æµ¸å±€" : m === "battle" ? "è¿æˆ˜å±€" : "å¤ä»‡å±€";

      resetGame();
    }

    function resetGame() {
      score = 0;
      selected = null;
      document.getElementById("score").innerText = score;
      renderBoard();
    }

    function renderBoard() {
      const board = document.getElementById("board");
      board.innerHTML = "";

      const list = words.slice(0, 6);
      const cards = [];

      list.forEach(w => {
        cards.push({ text: w.en, pair: w.zh });
        cards.push({ text: w.zh, pair: w.en });
      });

      cards.sort(() => Math.random() - 0.5);

      cards.forEach(c => {
        const div = document.createElement("div");
        div.className = "word";
        div.innerText = c.text;
        div.onclick = () => onClick(c, div);
        board.appendChild(div);
      });
    }

    function onClick(card, el) {
      if (!selected) {
        selected = { card, el };
        el.classList.add("active");
        return;
      }

      if (selected.card.pair === card.text) {
        selected.el.remove();
        el.remove();
        score++;
        document.getElementById("score").innerText = score;
      } else {
        selected.el.classList.remove("active");
      }

      selected = null;
    }

    renderBoard();
  </script>
</body>
</html>
