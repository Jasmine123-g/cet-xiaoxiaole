<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CET æ¶ˆæ¶ˆä¹ Â· ç»ˆæç‰ˆ</title>
<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:linear-gradient(135deg,#667eea,#764ba2);
  color:#fff;
}
header{
  padding:16px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
#modeSelect{
  display:flex;
  gap:12px;
  justify-content:center;
  margin:16px;
  flex-wrap:wrap;
}
button{
  padding:12px 18px;
  border:none;
  border-radius:12px;
  background:#fff;
  color:#333;
  font-size:16px;
  cursor:pointer;
}
#game{
  max-width:600px;
  margin:0 auto;
  padding:12px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
.card{
  background:rgba(255,255,255,0.9);
  color:#333;
  border-radius:16px;
  padding:18px;
  text-align:center;
  font-size:18px;
  cursor:pointer;
  user-select:none;
}
.card.active{
  background:#ffd166;
}
footer{
  text-align:center;
  font-size:12px;
  opacity:0.8;
  padding:12px;
}
</style>
</head>
<body>

<header>ğŸ® CET æ¶ˆæ¶ˆä¹ï¼ˆH5 ç»ˆæç‰ˆï¼‰</header>

<div id="modeSelect">
  <button onclick="startGame('immerse')">ğŸ§  æ²‰æµ¸å±€</button>
  <button onclick="startGame('battle')">âš”ï¸ è¿æˆ˜å±€</button>
  <button onclick="startGame('revenge')">ğŸ”¥ å¤ä»‡å±€</button>
</div>

<div id="game"></div>

<footer>è¯åº“ï¼šCET å¸¸ç”¨è¯æ±‡ï½œä¸ªäººå­¦ä¹ å¨±ä¹é¡¹ç›®</footer>

<script src="words_cet.js"></script>
<script>
let first=null;
let lock=false;
let pool=[];

function startGame(mode){
  document.getElementById('game').innerHTML='';
  first=null;lock=false;
  pool = shuffle([...window.CET_WORDS]).slice(0,6);
  let cards=[];
  pool.forEach(w=>{
    cards.push({text:w.en,key:w.en});
    cards.push({text:w.cn,key:w.en});
  });
  shuffle(cards).forEach(c=>createCard(c));
}

function createCard(data){
  const div=document.createElement('div');
  div.className='card';
  div.innerText=data.text;
  div.onclick=()=>clickCard(div,data);
  document.getElementById('game').appendChild(div);
}

function clickCard(el,data){
  if(lock||el.classList.contains('active'))return;
  el.classList.add('active');
  if(!first){
    first={el,data};
  }else{
    if(first.data.key===data.key){
      first=null;
    }else{
      lock=true;
      setTimeout(()=>{
        el.classList.remove('active');
        first.el.classList.remove('active');
        first=null;
        lock=false;
      },700);
    }
  }
}

function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}
</script>

</body>
</html>
