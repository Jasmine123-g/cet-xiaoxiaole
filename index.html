<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>CETæ¶ˆæ¶ˆä¹</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", sans-serif;
  background: linear-gradient(160deg, rgba(120,130,255,0.9), rgba(160,120,255,0.9));
}

.page {
  min-height: 100vh;
  display: none;
  align-items: center;
  justify-content: center;
  color: #fff;
}

.page.active {
  display: flex;
}

.container {
  width: 90%;
  max-width: 420px;
  text-align: center;
}

h1 {
  font-size: 36px;
  margin-bottom: 32px;
}

.mode-btn {
  background: rgba(255,255,255,0.22);
  border-radius: 20px;
  padding: 18px;
  margin: 14px 0;
  font-size: 20px;
  cursor: pointer;
  transition: 0.2s;
}

.mode-btn:hover {
  transform: scale(1.05);
  background: rgba(255,255,255,0.35);
}

.small-btn {
  margin-top: 12px;
  font-size: 14px;
  opacity: 0.8;
  cursor: pointer;
}

.panel {
  background: rgba(255,255,255,0.2);
  border-radius: 20px;
  padding: 16px;
}

.info {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.board {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.card {
  background: #ffe28a;
  color: #333;
  padding: 14px;
  border-radius: 14px;
  cursor: pointer;
}

.card.active {
  outline: 3px solid #fff;
}
</style>
</head>

<body>

<!-- é¦–é¡µ -->
<div class="page active" id="home">
  <div class="container">
    <h1>CETæ¶ˆæ¶ˆä¹</h1>

    <div class="mode-btn" onclick="enterMode('study')">æ²‰æµ¸å±€</div>
    <div class="mode-btn" onclick="enterMode('battle')">è¿æˆ˜å±€</div>
    <div class="mode-btn" onclick="enterMode('revenge')">å¤ä»‡å±€</div>
  </div>
</div>

<!-- æ¨¡å¼è¯´æ˜é¡µ -->
<div class="page" id="mode">
  <div class="container panel">
    <h2 id="modeTitle"></h2>
    <p id="modeDesc"></p>

    <div class="mode-btn" onclick="startGame()">â–¶ å¼€å§‹æ¸¸æˆ</div>
    <div class="small-btn" onclick="goHome()">â† è¿”å›é¦–é¡µ</div>
  </div>
</div>

<!-- æ¸¸æˆé¡µ -->
<div class="page" id="game">
  <div class="container panel">
    <div class="info">
      <div>å¾—åˆ†ï¼š<span id="score">0</span></div>
      <div>å‰©ä½™ï¼š<span id="left">0</span></div>
    </div>

    <div class="board" id="board"></div>

    <div class="mode-btn" onclick="share()">ğŸ“¤ é‚€è¯·å¥½å‹</div>
    <div class="small-btn" onclick="goHome()">â† è¿”å›é¦–é¡µ</div>
  </div>
</div>

<script>
// ç®€åŒ–è¯åº“ç¤ºä¾‹ï¼ˆä½ å¯æ›¿æ¢ä¸º CET4 / CET6 å…³å¡è¯åº“ï¼‰
const WORDS = [
  {en:"abandon", cn:"æ”¾å¼ƒ"},
  {en:"ability", cn:"èƒ½åŠ›"},
  {en:"abstract", cn:"æŠ½è±¡çš„"},
  {en:"advocate", cn:"æå€¡"},
  {en:"allocate", cn:"åˆ†é…"},
  {en:"analysis", cn:"åˆ†æ"}
];

let currentMode = "";
let selected = null;
let score = 0;

function show(pageId) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(pageId).classList.add("active");
}

function enterMode(mode) {
  currentMode = mode;
  const titles = {
    study: "æ²‰æµ¸å±€",
    battle: "è¿æˆ˜å±€",
    revenge: "å¤ä»‡å±€"
  };
  const descs = {
    study: "è½»æ¾å­¦ä¹ ï¼Œé€æ­¥è®°å¿†",
    battle: "é™æ—¶æŒ‘æˆ˜ï¼Œæ¯”æ‹¼æ‰‹é€Ÿ",
    revenge: "ä¸“æ¶ˆé”™è¯ï¼Œç‹ ç‹ å¹²æ‰"
  };
  document.getElementById("modeTitle").innerText = titles[mode];
  document.getElementById("modeDesc").innerText = descs[mode];
  show("mode");
}

function startGame() {
  score = 0;
  selected = null;
  document.getElementById("score").innerText = score;
  render();
  show("game");
}

function render() {
  const board = document.getElementById("board");
  board.innerHTML = "";

  const pick = shuffle([...WORDS]).slice(0,3);
  const cards = [];
  pick.forEach(w => {
    cards.push({text:w.en, key:w.en});
    cards.push({text:w.cn, key:w.en});
  });

  shuffle(cards).forEach(c => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerText = c.text;
    div.onclick = () => clickCard(c, div);
    board.appendChild(div);
  });

  document.getElementById("left").innerText = cards.length;
}

function clickCard(card, el) {
  if (!selected) {
    selected = {card, el};
    el.classList.add("active");
    return;
  }

  if (selected.card.key === card.key && selected.el !== el) {
    selected.el.remove();
    el.remove();
    score++;
    document.getElementById("score").innerText = score;
  } else {
    selected.el.classList.remove("active");
  }

  selected = null;
  document.getElementById("left").innerText =
    document.querySelectorAll(".card").length;
}

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

function goHome() {
  show("home");
}

function share() {
  alert("å·²ç”Ÿæˆåˆ†äº«é“¾æ¥ï¼ˆç¤ºæ„ï¼‰");
}
</script>

</body>
</html>
